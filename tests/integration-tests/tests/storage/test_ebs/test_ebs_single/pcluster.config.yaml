Image:
  Os: {{ os }}
HeadNode:
  InstanceType: {{ instance }}
  Networking:
    SubnetId: {{ public_subnet_id }}
  Ssh:
    KeyName: {{ key_name }}
  Iam:
    InstanceRole: {{ ec2_iam_role }} # TODO: change the role name in the test into role arn
Scheduling:
  {{ scheduler }}:
    Queues:
      - Name: queue-0
        ComputeResources:
          - Name: compute-resource-0
            {% if scheduler == "Awsbatch" %}
            InstanceTypes: {{ instance }}
            MinvCpus: 4
            DesiredVcpus: 4
            {% else %}
            InstanceType: {{ instance }}
            MinCount: 1
            {% endif %}
        Networking:
          SubnetIds:
            - {{ private_subnet_id }}
        Iam:
          InstanceRole: {{ ec2_iam_role }} # TODO: change the role name in the test into role arn
SharedStorage:
  - MountDir: {{ mount_dir }}
    StorageType: Ebs
    Name: ebs
    Settings:
      Iops: 210
      VolumeType: io1
      Encrypted: true
      KmsKeyId: {{ ebs_kms_key_id }}