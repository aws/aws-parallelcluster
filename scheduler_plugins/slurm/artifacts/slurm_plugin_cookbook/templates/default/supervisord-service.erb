# Downloaded from:
# https://git.launchpad.net/ubuntu/+source/supervisor/tree/debian/supervisor.service
[Unit]
Description=Supervisor process control system for UNIX
Documentation=http://supervisord.org
After=network.target

[Service]
ExecStart=<%= node['python']['virtualenv_path'] %>/bin/supervisord -n -c <%= node['pcluster']['local_dir'] %>/supervisord.conf
ExecStop=<%= node['python']['virtualenv_path'] %>/bin/supervisorctl $OPTIONS shutdown
ExecReload=<%= node['python']['virtualenv_path'] %>/bin/supervisorctl -c <%= node['pcluster']['local_dir'] %>/supervisord.conf $OPTIONS reload
KillMode=process
Restart=on-failure
RestartSec=50s

[Install]
WantedBy=multi-user.target
